syntax = "proto3";

package ambition;

import "google/api/annotations.proto";

service AmbitionService {
  rpc ReadActions(ReadActionsRequest) returns (ActionsResponse) {}

  rpc ReadAction(ReadActionRequest) returns (ActionResponse) {}

  rpc CreateAction(CreateActionRequest) returns (ActionResponse) {}

  rpc ReadOccurrences(ReadOccurrencesRequest) returns (OccurrenceResponse) {}

  rpc CreateOccurrence(CreateOccurrenceRequest) returns (OccurrenceResponse) {}
}

message CreateActionRequest {
  int64 UserId = 1;
  string ActionName = 2;
}

message ReadActionsRequest {
  int64 UserId = 1;
}

message ReadActionRequest {
  int64 ActionId = 1;
  string ActionName = 2;
}

message ActionResponse {
  Action Action = 1;
  string Error = 2;
}

message ActionsResponse {
  repeated Action Actions = 1;
  string Error = 4;
}

message Action {
  int64 ActionId = 1;
  int64 UserId = 2;
  string ActionName = 3;
}

message CreateOccurrenceRequest {
  int64 ActionId = 1;
  string Datetime = 2;
  string Data = 3;
}

message ReadOccurrencesRequest {
  int64 UserId = 1;
  int64 ActionId = 2;
}

message ReadOccurrenceRequest {
  int64 OccurrenceId = 1;
}

message OccurrenceResponse {
  Occurrence Occurrence = 1;
  string Error = 2;
}

message OccurrencesResponse {
  repeated Occurrence Occurrences = 1;
  string Error = 2;
}

message Occurrence {
  int64 OccurrenceId = 1;
  int64 ActionId = 2;
  string Datetime = 3;
  string Data = 4;
}

